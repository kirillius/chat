<div flex layout="row">
    <md-card md-theme-watch flex="80">
        <md-card-title>
            <md-card-title-text>
                <md-tabs md-dynamic-height md-border-bottom ng-controler="ChatController" class="form-tabs" md-selected="selectedIndex">
                    <md-tab>
                        <md-tab-label>
                            Общая комната
                            <md-tooltip md-direction="bottom">
                                Общение со всеми пользователями
                            </md-tooltip>
                        </md-tab-label>
                        <md-tab-body>
                            <md-content class="md-padding" flex="grow" layout="row" layout-wrap>
                                <md-card ng-repeat="message in messagesAll" layout="row" flex="grow" class="messageCard">
                                    <span ng-if="message.nameSender" class="nameUser">{{message.nameSender}}:</span>
                                    <span class="message">{{message.text}}</span>
                                </md-card>
                            </md-content>
                            <md-input-container flex="70">
                                <label>Ваше сообщение</label>
                                <input ng-model="message">
                            </md-input-container>
                            <md-button class="md-raised" ng-click="sendMessage(message)" flex="30">Отправить</md-button>
                        </md-tab-body>
                    </md-tab>
                    <md-tab ng-repeat="secretChat in secretChats">
                        <md-tab-label>
                            {{secretChat.name}}
                            <md-tooltip md-direction="bottom">
                                {{secretChat.description}}
                            </md-tooltip>
                        </md-tab-label>
                        <md-tab-body>
                            <md-content class="md-padding" flex="grow" layout="row" layout-wrap>
                                <md-card ng-repeat="message in secretChat.messages" layout="row" flex="grow" class="messageCard">
                                    <span ng-if="message.nameSender" class="nameUser">{{message.nameSender}}:</span>
                                    <span class="message">{{message.text}}</span>
                                </md-card>
                            </md-content>
                            <md-input-container flex="70">
                                <label>Ваше сообщение</label>
                                <input ng-model="secretChat.valueInput">
                            </md-input-container>
                            <md-button class="md-raised" ng-click="sendSecretMessage(secretChat)" flex="30">Отправить</md-button>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
            </md-card-title-text>
        </md-card-title>
    </md-card>

    <md-card md-theme-watch flex="20">
        <md-card-title>
            <md-card-title-text>
                <span style="font-size: 10pt;">Что бы начать секретный чат выберите пользователя</span>
                <md-list>
                    <md-list-item ng-repeat-start="user in users" ng-click="startChatUser(user)" style="font-size: 10pt;">
                        {{user.name}}
                    </md-list-item>
                    <md-divider ng-repeat-end></md-divider>
                </md-list>
            </md-card-title-text>
        </md-card-title>
    </md-card>
</div>